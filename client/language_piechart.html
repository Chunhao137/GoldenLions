<html>
<head>
  <meta charset="UTF-8">
  <title>test map</title>
<link href="../bower_components/nvd3/src/nv.d3.css" rel="stylesheet" type="text/css">

  <style>
    #chart {
    height: 500px;
    width: 500px;
  }
  </style>
</head>
<body>
  <h1>commmits by language</h1>

<ul>
  <li><a href="language_map.html">map</a></li>
  <li><a href="language_piechart.html">pie charts</a></li>
  <li><a href="language_barchart.html">bar charts</a></li>
  <li><a href="language_stackedchart.html">stacked charts</a></li>
  <li><a href="language_linechart.html">line charts</a></li>
</ul>

<button onclick="tenTime1()">Top 10: Time 1</button>
<button onclick="tenTime2()">Top 10: Time 2</button>

<button onclick="allTime1()">All: Time 1</button>
<button onclick="allTime2()">All: Time 2</button>


<svg id="chart" class="mypiechart"></svg>

<script src="../bower_components/d3/d3.js"></script>
<script src="../bower_components/nvd3/nv.d3.js"></script>


  <script>


var tenTime1 = function(){
  // Load csv data.
  d3.csv('./CSVs/language_10_time1.csv', function(error, data){
    var sampleData = data;

    nv.addGraph(function(){
      // Basic settings for chart.
      var width = 500,
          height = 500;

      // x is labels, y is values.
      var chart = nv.models.pieChart()
        .x(function(d) { return d.repository_language; })
        .y(function(d) { return d.commits; })

      // Create the chart.
      var svg = d3.select('#chart')
        .datum(sampleData)
        .transition()
        .duration(1200)
        .call(chart);

      return chart;
    })
  })
}


var tenTime2 = function(){
  // Load csv data.
  d3.csv('./CSVs/language_10_time2.csv', function(error, data){
    var sampleData = data;

    nv.addGraph(function(){
      // Basic settings for chart.
      var width = 500,
          height = 500;

      // x is labels, y is values.
      var chart = nv.models.pieChart()
        .x(function(d) { return d.repository_language; })
        .y(function(d) { return d.commits; })

      // Create the chart.
      var svg = d3.select('#chart')
        .datum(sampleData)
        .transition()
        .duration(1200)
        .call(chart);

      return chart;
    })
  })
}


var allTime1 = function(){
  // Load csv data.
  d3.csv('./CSVs/language_all_time1.csv', function(error, data){
    var sampleData = data;

    nv.addGraph(function(){
      // Basic settings for chart.
      var width = 500,
          height = 500;

      // x is labels, y is values.
      var chart = nv.models.pieChart()
        .x(function(d) { return d.repository_language; })
        .y(function(d) { return d.commits; })
        .options({
          showLegend: false
        })

      // Create the chart.
      var svg = d3.select('#chart')
        .datum(sampleData)
        .transition()
        .duration(1200)
        .call(chart);

      return chart;
    })
  })
}


var allTime2 = function(){
  // Load csv data.
  d3.csv('./CSVs/language_all_time2.csv', function(error, data){
    var sampleData = data;

    nv.addGraph(function(){
      // Basic settings for chart.
      var width = 500,
          height = 500;

      // x is labels, y is values.
      var chart = nv.models.pieChart()
        .x(function(d) { return d.repository_language; })
        .y(function(d) { return d.commits; })
        .options({
          showLegend: false
        })

      // Create the chart.
      var svg = d3.select('#chart')
        .datum(sampleData)
        .transition()
        .duration(1200)
        .call(chart);

      return chart;
    })
  })
}

tenTime1();


  </script>
</body>
</html>

